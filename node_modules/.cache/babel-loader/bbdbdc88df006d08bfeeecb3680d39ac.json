{"ast":null,"code":"var _jsxFileName = \"/Users/makosguba/Desktop/tomato_timer/src/App.js\";\nimport React, { Component } from 'react';\nimport './App.css';\nimport Setter from './components/Setter/Setter';\nimport Timer from './components/Timer/Timer';\nimport Controls from './components/Controls/Controls';\nimport Sound from './components/Sound/Sound';\nimport soundfile from './assets/BeepSound.wav';\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n\n    this.startTimer = () => {\n      if (!this.state.running) {\n        //if the stopwatch is not already running\n        if (!this.savedTime) {\n          this.setState({\n            startTime: new Date().getTime() + 1000\n          });\n        }\n\n        if (this.savedTime) {\n          this.setState({\n            startTime: new Date().getTime()\n          });\n        } //We are going to check the time every second\n\n\n        console.log('startTime: ', this.state.startTime);\n        this.tInterval = setInterval(this.getShowTime, 1000); //setting interval\n\n        this.setState({\n          running: true,\n          paused: false\n        });\n      }\n    };\n\n    this.getShowTime = () => {\n      this.setState({\n        updatedTime: new Date().getTime()\n      }); //this.updatedTime = new Date().getTime() - 1000;\n\n      console.log('updatedTime: ', this.state.updatedTime); //if we hit the pause button, the elapsed time needs to be corrected and we must add the time spent waiting\n\n      if (this.savedTime) {\n        console.log('hitting saved time in pause');\n\n        if (this.state.cycle === 'Session') {\n          //checking for if we are in break or session\n          this.difference = this.savedTime - (this.state.updatedTime - this.state.startTime);\n        }\n\n        if (this.state.cycle === 'Break') {\n          //check for if we are in break or session\n          this.difference = this.savedTime - (this.state.updatedTime - this.state.startTime);\n        }\n      } else {\n        //if pause button was not used\n        if (this.state.cycle === 'Session') {\n          //checking for if we are in break or session\n          this.difference = this.state.sessionCount * 60000 - (this.state.updatedTime - this.state.startTime);\n        }\n\n        if (this.state.cycle === 'Break') {\n          //check for if we are in break or session\n          this.difference = this.state.breakCount * 60000 - (this.state.updatedTime - this.state.startTime);\n        }\n      }\n\n      var minutes = Math.floor(this.difference % (1000 * 60 * 60) / (1000 * 60));\n      var seconds = Math.floor(this.difference % (1000 * 60) / 1000);\n      this.minutes = minutes < 10 ? \"0\" + minutes : minutes;\n      this.seconds = seconds < 10 ? \"0\" + seconds : seconds;\n\n      if (this.seconds >= 0) {\n        this.setState({\n          currentTime: `${this.minutes} : ${this.seconds}`\n        });\n        console.log('currentTime: ', this.state.currentTime);\n      } else {\n        clearInterval(this.tInterval); //we clear the interval when the timer reaches 0\n\n        this.savedTime = 0;\n\n        if (this.state.sound) {\n          var playPromise = this.audio.play();\n\n          if (playPromise !== undefined) {\n            playPromise.then(_ => {\n              // Automatic playback started!\n              // Show playing UI.\n              console.log(\"audio played auto\");\n            }).catch(error => {\n              // Auto-play was prevented\n              // Show paused UI.\n              console.log(\"playback prevented\");\n            });\n          }\n        }\n\n        console.log(this.savedTime);\n\n        if (this.state.cycle === 'Session') {\n          //we toggle the session to break\n          if (this.state.breakCount < 10) {\n            //adding some formatting for single digits\n            this.setState({\n              cycle: 'Break',\n              currentTime: `0${this.state.breakCount} : 00`\n            });\n          } else {\n            this.setState({\n              cycle: 'Break',\n              currentTime: `${this.state.breakCount} : 00`\n            });\n          }\n        } else {\n          //if we are in a break, we toggle to a session\n          if (this.state.sessionCount < 10) {\n            //adding some formatting for single digits\n            this.setState({\n              cycle: 'Session',\n              currentTime: `0${this.state.sessionCount} : 00`\n            });\n          } else {\n            this.setState({\n              cycle: 'Session',\n              currentTime: `${this.state.sessionCount} : 00`\n            });\n          }\n        }\n\n        this.setState({\n          startTime: new Date().getTime() + 1000\n        }); //this.startTime = new Date().getTime(); //getting new start time\n\n        this.tInterval = setInterval(this.getShowTime, 1000); //starting the timer for the next session\n      }\n    };\n\n    this.resetTimer = () => {\n      if (this.state.running || this.state.paused) {\n        //if the stopwatch is not already running\n        clearInterval(this.tInterval);\n        this.setState({\n          breakCount: 5,\n          sessionCount: 25,\n          sound: true,\n          //sound is turned on or off\n          cycle: 'Session',\n          //are we in a break or session\n          running: false,\n          //if timer is running\n          paused: false,\n          //if paused is clicked\n          currentTime: '25 : 00'\n        });\n        this.savedTime = 0;\n        this.difference = 0;\n        this.tInterval = 0;\n      }\n    };\n\n    this.pauseTimer = () => {\n      console.log(this.state.paused);\n\n      if (!this.difference) {//if the timer is never started we do nothing\n      } else if (!this.state.paused) {\n        //if the stopwatch is not already running\n        clearInterval(this.tInterval);\n        console.log(this.state.paused, 'second pause');\n\n        if (this.state.cycle === \"Session\") {\n          this.savedTime = this.difference;\n        }\n\n        if (this.state.cycle === \"Break\") {\n          this.savedTime = this.difference;\n        }\n\n        this.setState({\n          running: false,\n          paused: true //if paused is clicked\n\n        });\n      } else {\n        this.startTimer();\n      }\n    };\n\n    this.toggleSound = () => {\n      this.setState({\n        sound: !this.state.sound\n      });\n    };\n\n    this.play = () => {\n      this.setState({\n        play: true\n      }); //this.audio.play();\n\n      var playPromise = this.audio.play();\n      console.log(playPromise);\n\n      if (playPromise !== undefined) {\n        playPromise.then(_ => {\n          // Automatic playback started!\n          // Show playing UI.\n          console.log(\"audio played auto\");\n        }).catch(error => {\n          // Auto-play was prevented\n          // Show paused UI.\n          console.log(\"playback prevented\");\n        });\n      }\n    };\n\n    this.bIncrement = () => {\n      if (this.state.breakCount < 60 && !this.state.running) {\n        this.setState({\n          breakCount: this.state.breakCount + 1\n        });\n      }\n    };\n\n    this.bDecrement = () => {\n      if (this.state.breakCount > 1 && !this.state.running) {\n        this.setState({\n          breakCount: this.state.breakCount - 1\n        });\n      }\n    };\n\n    this.sIncrement = () => {\n      if (this.state.sessionCount < 60 && !this.state.running) {\n        if (this.state.sessionCount < 10) {\n          //adding some formatting for single digits\n          this.setState({\n            sessionCount: this.state.sessionCount + 1,\n            currentTime: `0${this.state.sessionCount + 1} : 00`\n          });\n        } else {\n          this.setState({\n            sessionCount: this.state.sessionCount + 1,\n            currentTime: `${this.state.sessionCount + 1} : 00`\n          });\n        }\n      }\n    };\n\n    this.sDecrement = () => {\n      if (this.state.sessionCount > 1 && !this.state.running) {\n        if (this.state.sessionCount < 10) {\n          //adding some formatting for single digits\n          this.setState({\n            sessionCount: this.state.sessionCount - 1,\n            currentTime: `0${this.state.sessionCount - 1} : 00`\n          });\n        } else {\n          this.setState({\n            sessionCount: this.state.sessionCount - 1,\n            currentTime: `${this.state.sessionCount - 1} : 00`\n          });\n        }\n      }\n    };\n\n    this.state = {\n      breakCount: 5,\n      sessionCount: 25,\n      sound: true,\n      //sound is turned on or off\n      cycle: 'Session',\n      //are we in a break or session\n      running: false,\n      //if timer is running\n      paused: false,\n      //if paused is clicked\n      currentTime: '25 : 00',\n      startTime: null,\n      updatedTime: null,\n      play: false\n    };\n    this.tInterval = 0; //How often we will check the difference between now and our start time\n\n    this.savedTime = 0; //if user presses pause keep track of how long\n\n    this.difference = 0; //the difference in current time and start time + saved time;\n\n    this.audio = new Audio(soundfile);\n  } //Start the stopwatch\n\n\n  // countDown = () => {\n  //   // if (this.state.sessionCount !== 0) {\n  //   //   startTime = new Date().getTime();\n  //   //   tInterval = setInterval(getShowTime, 1);\n  //   // }\n  // }\n  render() {\n    return React.createElement(\"div\", {\n      className: \"container_div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 288\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 289\n      },\n      __self: this\n    }, \"Pomodoro Clock\"), React.createElement(Setter, {\n      breakCount: this.state.breakCount,\n      sessionCount: this.state.sessionCount,\n      bIncrement: this.bIncrement,\n      bDecrement: this.bDecrement,\n      sIncrement: this.sIncrement,\n      sDecrement: this.sDecrement,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 290\n      },\n      __self: this\n    }), React.createElement(Timer, {\n      breakCount: this.state.breakCount,\n      sessionCount: this.state.sessionCount,\n      currentTime: this.state.currentTime,\n      cycle: this.state.cycle,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 298\n      },\n      __self: this\n    }), React.createElement(Controls, {\n      startTimer: this.startTimer,\n      resetTimer: this.resetTimer,\n      pauseTimer: this.pauseTimer,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 304\n      },\n      __self: this\n    }), React.createElement(Sound, {\n      sound: this.state.sound,\n      toggleSound: this.toggleSound,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 309\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["/Users/makosguba/Desktop/tomato_timer/src/App.js"],"names":["React","Component","Setter","Timer","Controls","Sound","soundfile","App","constructor","props","startTimer","state","running","savedTime","setState","startTime","Date","getTime","console","log","tInterval","setInterval","getShowTime","paused","updatedTime","cycle","difference","sessionCount","breakCount","minutes","Math","floor","seconds","currentTime","clearInterval","sound","playPromise","audio","play","undefined","then","_","catch","error","resetTimer","pauseTimer","toggleSound","bIncrement","bDecrement","sIncrement","sDecrement","Audio","render"],"mappings":"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","sourcesContent":["import React, {Component } from 'react';\nimport './App.css';\nimport Setter from './components/Setter/Setter';\nimport Timer from './components/Timer/Timer';\nimport Controls from './components/Controls/Controls';\nimport Sound from './components/Sound/Sound';\nimport soundfile from './assets/BeepSound.wav'\n\nexport default class App extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n        breakCount: 5,\n        sessionCount: 25,\n        sound: true, //sound is turned on or off\n        cycle: 'Session',//are we in a break or session\n        running: false, //if timer is running\n        paused: false,//if paused is clicked\n        currentTime: '25 : 00',\n        startTime: null,\n        updatedTime: null, \n        play: false\n    }\n\n    this.tInterval = 0; //How often we will check the difference between now and our start time\n    this.savedTime = 0; //if user presses pause keep track of how long\n    this.difference = 0; //the difference in current time and start time + saved time;\n    this.audio = new Audio(soundfile);\n}\n    \n    //Start the stopwatch\n    startTimer = () => {\n      if (!this.state.running) { //if the stopwatch is not already running\n        if (!this.savedTime) {\n          this.setState({\n            startTime: new Date().getTime() + 1000\n          });\n        }\n        if (this.savedTime) {\n          this.setState({\n            startTime: new Date().getTime()\n          });\n        }\n        \n        //We are going to check the time every second\n        console.log('startTime: ', this.state.startTime);\n        this.tInterval = setInterval(this.getShowTime, 1000); //setting interval\n        this.setState({\n          running: true,\n          paused: false\n        });\n      }\n    }\n    //This is the timer function\n    getShowTime = () => {\n      this.setState({\n        updatedTime: new Date().getTime()\n      });\n      //this.updatedTime = new Date().getTime() - 1000;\n      console.log('updatedTime: ', this.state.updatedTime);\n      //if we hit the pause button, the elapsed time needs to be corrected and we must add the time spent waiting\n      if (this.savedTime) {\n        console.log('hitting saved time in pause')\n        if (this.state.cycle === 'Session') { //checking for if we are in break or session\n          this.difference = this.savedTime - (this.state.updatedTime - this.state.startTime);\n        }\n        if (this.state.cycle === 'Break') { //check for if we are in break or session\n          this.difference = this.savedTime - (this.state.updatedTime - this.state.startTime);\n        }\n      } else { //if pause button was not used\n        if (this.state.cycle === 'Session') { //checking for if we are in break or session\n          this.difference = (this.state.sessionCount * 60000) - (this.state.updatedTime - this.state.startTime);\n        }\n        if (this.state.cycle === 'Break') { //check for if we are in break or session\n          this.difference = (this.state.breakCount * 60000) - (this.state.updatedTime - this.state.startTime);\n        }\n      }\n\n      var minutes = Math.floor((this.difference % (1000 * 60 * 60)) / (1000 * 60));\n      var seconds = Math.floor((this.difference % (1000 * 60)) / 1000);\n      this.minutes = (minutes < 10) ? \"0\" + minutes : minutes;\n      this.seconds = (seconds < 10) ? \"0\" + seconds : seconds;\n      if (this.seconds >= 0) {\n        this.setState({\n          currentTime: `${this.minutes} : ${this.seconds}`\n        });\n        console.log('currentTime: ', this.state.currentTime);\n      } else {\n        clearInterval(this.tInterval); //we clear the interval when the timer reaches 0\n        this.savedTime = 0;\n\n        if (this.state.sound) {\n          var playPromise = this.audio.play();\n\n          if (playPromise !== undefined) {\n            playPromise\n              .then(_ => {\n                // Automatic playback started!\n                // Show playing UI.\n                console.log(\"audio played auto\");\n              })\n              .catch(error => {\n                // Auto-play was prevented\n                // Show paused UI.\n                console.log(\"playback prevented\");\n              });\n          }\n        } \n        console.log(this.savedTime)\n        if (this.state.cycle === 'Session') { //we toggle the session to break\n          if (this.state.breakCount < 10) { //adding some formatting for single digits\n            this.setState({\n              cycle: 'Break',\n              currentTime: `0${this.state.breakCount} : 00`\n            })\n          } else { \n            this.setState({ \n              cycle: 'Break',\n              currentTime: `${this.state.breakCount} : 00`\n            })\n          }\n        }\n        else { //if we are in a break, we toggle to a session\n          if (this.state.sessionCount < 10) { //adding some formatting for single digits\n            this.setState({\n              cycle: 'Session',\n              currentTime: `0${this.state.sessionCount} : 00`\n            })\n          } else { \n            this.setState({ \n              cycle: 'Session',\n              currentTime: `${this.state.sessionCount} : 00`\n            })\n          }\n        }\n        this.setState({ \n          startTime: new Date().getTime() + 1000\n        })\n        //this.startTime = new Date().getTime(); //getting new start time\n        this.tInterval = setInterval(this.getShowTime, 1000); //starting the timer for the next session\n        \n      }\n    }\n\n    //reset function\n    resetTimer = () => {\n      if (this.state.running || this.state.paused) { //if the stopwatch is not already running\n        clearInterval(this.tInterval);\n        this.setState({\n          breakCount: 5,\n          sessionCount: 25,\n          sound: true, //sound is turned on or off\n          cycle: 'Session',//are we in a break or session\n          running: false, //if timer is running\n          paused: false,//if paused is clicked\n          currentTime: '25 : 00'\n        });\n        this.savedTime = 0;\n        this.difference = 0;\n        this.tInterval = 0;\n      }\n    }\n\n    pauseTimer = () => {\n      console.log(this.state.paused)\n      \n      if (!this.difference){\n        //if the timer is never started we do nothing\n      }\n      else if (!this.state.paused) { //if the stopwatch is not already running\n        clearInterval(this.tInterval);\n        console.log(this.state.paused, 'second pause')\n        if (this.state.cycle === \"Session\") {\n          this.savedTime = this.difference;\n        }\n        if (this.state.cycle === \"Break\") {\n          this.savedTime = this.difference;\n        }\n        this.setState({\n          running: false,\n          paused: true,//if paused is clicked\n        });\n      }\n      else {\n        this.startTimer();\n      }\n    }\n\n    //allows user to turn sound on or off\n    toggleSound = () => {\n      this.setState({\n        sound: !this.state.sound\n      })\n    }\n\n    play = () => {\n      this.setState({ play: true})\n      //this.audio.play();\n\n      var playPromise = this.audio.play();\n      console.log(playPromise)\n\n      if (playPromise !== undefined) {\n        playPromise\n          .then(_ => {\n            // Automatic playback started!\n            // Show playing UI.\n            console.log(\"audio played auto\");\n          })\n          .catch(error => {\n            // Auto-play was prevented\n            // Show paused UI.\n            console.log(\"playback prevented\");\n          });\n      }\n\n\n\n    }\n\n    //I think this will play the sound\n    // setSound = (sound) => {\n    //   this.setState({\n    //     sound: sound\n    //   })\n    // };\n\n    bIncrement = ()  => {\n        if (this.state.breakCount < 60 && !this.state.running) {\n          this.setState({\n                breakCount: this.state.breakCount + 1,\n              });\n        }\n        \n      };\n      \n    bDecrement = () => {\n        if (this.state.breakCount > 1 && !this.state.running) {\n            this.setState({\n                breakCount: this.state.breakCount - 1,\n            });\n        }\n      };\n    \n    //allows user to increment the session length\n    sIncrement = () => {\n        if (this.state.sessionCount < 60 && !this.state.running) {\n          if (this.state.sessionCount < 10) { //adding some formatting for single digits\n            this.setState({\n              sessionCount: this.state.sessionCount + 1,\n              currentTime: `0${this.state.sessionCount+1} : 00`\n            })\n          } else { \n            this.setState({ \n              sessionCount: this.state.sessionCount + 1,\n              currentTime: `${this.state.sessionCount+1} : 00`\n            })\n          }\n        }  \n    };\n    \n    //allows user to decrement the session length\n    sDecrement = () => {\n        if (this.state.sessionCount > 1 && !this.state.running) {\n          if (this.state.sessionCount < 10) { //adding some formatting for single digits\n            this.setState({\n              sessionCount: this.state.sessionCount - 1,\n              currentTime: `0${this.state.sessionCount-1} : 00`\n            })\n          } else { \n            this.setState({ \n              sessionCount: this.state.sessionCount - 1,\n              currentTime: `${this.state.sessionCount-1} : 00`\n            })\n          }\n        }   \n        \n    };\n\n    // countDown = () => {\n    //   // if (this.state.sessionCount !== 0) {\n    //   //   startTime = new Date().getTime();\n    //   //   tInterval = setInterval(getShowTime, 1);\n    //   // }\n    // }\n  render() {\n    return (\n      <div className=\"container_div\">\n        <h1>Pomodoro Clock</h1>\n        <Setter \n          breakCount={this.state.breakCount}\n          sessionCount={this.state.sessionCount}\n          bIncrement={this.bIncrement}\n          bDecrement={this.bDecrement}\n          sIncrement={this.sIncrement}\n          sDecrement={this.sDecrement}\n        />\n        <Timer \n          breakCount={this.state.breakCount}\n          sessionCount={this.state.sessionCount}\n          currentTime={this.state.currentTime}\n          cycle={this.state.cycle}\n        />\n        <Controls \n          startTimer={this.startTimer}\n          resetTimer={this.resetTimer}\n          pauseTimer={this.pauseTimer}\n        />\n        <Sound \n          sound={this.state.sound}\n          toggleSound={this.toggleSound}\n        />\n      </div>\n    )\n  }\n}"]},"metadata":{},"sourceType":"module"}